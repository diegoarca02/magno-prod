
<div class="app-main flex-column flex-row-fluid">
    <!--begin::Page-->
    <div class="d-flex flex-column flex-column-fluid">
        <!--begin::Aside-->
        <app-side-bar (eventPermisos)="handlePermisos($event)"></app-side-bar>
        <!--end::Aside-->
        <!--begin::Wrapper-->
        <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
            <!--begin::Header-->
            <app-top-bar (eventClienteSelected)="validate_cliente_top()"></app-top-bar>
            <!--end::Header-->
            <!--begin::Content-->
            <div class="content d-flex flex-column flex-column-fluid" id="kt_content" style="padding-top: 0px !important;">
                <!--begin::Toolbar-->
                <div class="toolbar" id="kt_toolbar">
                    <!--begin::Container-->
                    <div id="kt_toolbar_container" class="container-fluid d-flex flex-stack">
                        <!--begin::Page title-->
                        <div data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                            <!--begin::Title-->
                            <h1 class="d-flex align-items-center text-dark fw-bolder fs-3 my-1">Venta
                                <!--begin::Separator-->
                                <span class="h-20px border-gray-200 border-start mx-5"></span>
                                <!--end::Separator-->
                                <!--begin::Description-->
                                <ol class="breadcrumb text-muted fs-6 fw-semibold">
                                    <li class="breadcrumb-item pe-3">
                                        <a [routerLink]="['/ventas']"  class="pe-3">
                                            Ventas
                                        </a>
                                    </li>
                                    <li class="breadcrumb-item pe-3">Nuevo venta</li>
                                    
                                </ol>
                      
                                <!--end::Description--></h1>
                            <!--end::Title-->
                        </div>
                        <!--end::Page title-->
                        <!--begin::Actions-->
                        <div class="d-flex align-items-center py-1">
                            <h3 class="card-title align-items-start flex-column">
                                <span class="text-muted fw-bold fs-7">Panel Administrador</span>
                            </h3>
                        </div>
                        <!--end::Actions-->
                    </div>
                    <!--end::Container-->
                </div>
                <!--end::Toolbar-->
                
                <!--begin::Content-->
                <div id="kt_app_content" class="app-content flex-column-fluid content">
                    <!--begin::Content container-->
                    <div id="kt_app_content_container" class="app-container container-xxl">
                        <!--begin::Form-->

                        <div class="card">
                            <div class="card-body">
           
                                <div class="mx-auto mw-800px w-100 py-10 fv-plugins-bootstrap5 fv-plugins-framework">
                                    <div class="d-flex justify-content-center mb-20 d-flex gap-6">
                                        <div class="border-left d-flex align-items-center">
                                            <h3 class="fw-700 text-dark mb-0 cursor-pointer" (click)="next_step(1)" [ngClass]="{'text-primary': option_menu == 1}">
                                              
                                                Comprador
                                            </h3>
                                        </div>

                                        <div class="border-left d-flex align-items-center">
                                            <h3 class="fw-700 text-dark mb-0 cursor-pointer" (click)="next_step(2)" [ngClass]="{'text-primary': option_menu == 2}">
                                              
                                                Productos
                                            </h3>
                                        </div>

                                        <div class="border-left d-flex align-items-center">
                                            <h3 class="fw-700 text-dark mb-0 cursor-pointer" (click)="next_step(3)" [ngClass]="{'text-primary': option_menu == 3}">
                                              
                                                Resumen
                                            </h3>
                                        </div>

                                        <div class="border-left d-flex align-items-center">
                                            <h3 class="fw-700 text-dark mb-0 cursor-pointer" (click)="next_step(4)" [ngClass]="{'text-primary': option_menu == 4}">
                                              
                                                Pago
                                            </h3>
                                        </div>

                                        <div class="border-left d-flex align-items-center">
                                            <h3 class="fw-700 text-dark mb-0 cursor-pointer" (click)="next_step(5)" [ngClass]="{'text-primary': option_menu == 5}">
                                              
                                                Confirmación
                                            </h3>
                                        </div>
                                    </div>

                                    <!--begin::Form-->
                                    <form  *ngIf="option_menu == 1">

                                        <!--begin::Heading-->
                                        <div class="pb-10 pb-lg-15" >
                                            <!--begin::Title-->
                                            <h1 class="fw-bold text-center text-gray-700 fw-700">
                                                Comprador
                                            </h1>
                                            <!--end::Title-->
                                            <!--begin::Notice-->
                                            <div class="text-muted fw-semibold fs-6 text-center">
                                                Información y programaciónes del comprador.
                                            </div>
                                            <!--end::Notice-->
                                        </div>
                                        <!--end::Heading-->

                                        <!--begin::Actions-->
                                        <div class="text-end mb-10">
                                            <button *ngIf="venta.cliente_ubicacion" (click)="next_step(2)" type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <button *ngIf="!venta.cliente_ubicacion" disabled type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                        </div>
                                        <!--end::Actions-->

                                        <!--begin::Group-->
                                        <div class="mb-5">
                                            <!--begin::Step 1-->
                                            <div class="flex-column">
                                               
                                                <label class="form-label required">Comprador</label>
                                                <div class="position-relative mb-1">
                                                    <input type="text" class="form-control form-control-solid mb-1" placeholder="Cliente o empresa" name="filtro_cliente" [(ngModel)]="filtro_cliente" (keyup)="init_clientes()">
                                                    <i class="bi bi-search position-absolute top-50 translate-middle me-3" style="right: 0;"></i>
                                                </div>
                                            
                                                <div class="d-flex justify-content-between mb-5">
                                                    <div class="fs-7 fw-semibold text-muted">Cliente o empresa que realiza la compra.</div>
                                                    <code class="cursor-pointer">
                                                        <a [routerLink]="['/clientes/create']">
                                                            Nuevo Cliente
                                                        </a>
                                                    </code>
                                                </div>

                                                <div class="mb-7">
                                                    <div *ngIf="!cliente_status" class="w-100 text-center btn btn-dark btn-dark-outline"  (click)="cliente_status = true">
                                                        Mostrar Cliente
                                                    </div>
                                                    <div *ngIf="cliente_status" class="w-100 text-center btn btn-dark btn-dark-outline"  (click)="cliente_status = false">
                                                        Ocultar Cliente
                                                    </div>
                                                </div>

                                                <div class="py-5" *ngIf="clientes.length >= 1">
                                                    <div class="">
                                                        <div class="d-flex justify-content-between">
                                                            <small class="text-gray-700 mb-2">Restaltados: {{clientes_const.length}} clientes encontrados</small>
                                                            <code *ngIf="view_all_clients" class="cursor-pointer" (click)="ver_todos_clientes()">Todos los resultados</code>
                                                        </div>

                                                        <div class="mh-300px scroll-y me-n5 pe-5">
                                                            <ng-container *ngIf="!load_clientes">
                                                                <ng-container *ngFor="let item of clientes">
                                                                    <ng-container *ngIf="item.tipo == 'Cliente'">
                                                                        <div class="d-flex cursor-pointer flex-stack py-4 border-bottom border-gray-300 border-bottom-dashed" [ngClass]="{'bg_selected': venta.cliente == item.cliente._id}"  (click)="select_cliente(item.cliente)">
                                                                     
                                                                            <div class="d-flex" style="width: 100% !important;justify-content: space-between !important;">
                                                                                <div class="d-flex align-items-center">
                                                                                    <div class="symbol symbol-45px me-5" style="padding-left: 1rem;">
                                                                                        <span class="symbol-label fw-bold" [ngClass]="{
                                                                                            'bg-light-danger text-danger': item.cliente.nombres.charAt(0) >='A' && item.cliente.nombres.charAt(0) <= 'H',
                                                                                            'bg-light-primary text-primary': item.cliente.nombres.charAt(0) >='I' && item.cliente.nombres.charAt(0) <= 'O',
                                                                                            'bg-light-info text-info': item.cliente.nombres.charAt(0) >='P' && item.cliente.nombres.charAt(0) <= 'U',
                                                                                            'bg-light-success text-success': item.cliente.nombres.charAt(0) >='V' && item.cliente.nombres.charAt(0) <= 'Z'}">
                                                                                            {{item.cliente.nombres.charAt(0)}}
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="d-flex justify-content-start flex-column">
                                                                                        <a class="text-gray-800 fw-bold mb-1 fs-6">
                                                                                            <code>[Cliente]</code> &nbsp;
                                                                                            {{item.cliente.nombres.split(' ')[0]}} {{item.cliente.apellidos.split(' ')[0]}}
                                                                                        
                                                                                        </a>
                                                                                        <span class="text-gray-400 fw-semibold d-block fs-7">
                                                                                            {{item.cliente.email}}
                                                                                            
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="item.tipo == 'Empresa'">
                                                                        <div class="d-flex p-3 rounded-3 border border-dashed border-gray-300 cursor-pointer mb-1" [ngClass]="{'bg_selected': venta.empresa_rs == item.empresa._id}" (click)="select_empresa(item.empresa)">
                                                                   
                                                                            <div class="d-flex" style="width: 100% !important;justify-content: space-between !important;">
                                                                                <div class="d-flex align-items-center">
                                                                                    <div class="symbol symbol-45px me-5">
                                                                                        <span class="symbol-label fw-bold" [ngClass]="{
                                                                                            'bg-light-danger text-danger': item.empresa.razon_social.charAt(0) >='A' && item.empresa.razon_social.charAt(0) <= 'H',
                                                                                            'bg-light-primary text-primary': item.empresa.razon_social.charAt(0) >='I' && item.empresa.razon_social.charAt(0) <= 'O',
                                                                                            'bg-light-info text-info': item.empresa.razon_social.charAt(0) >='P' && item.empresa.razon_social.charAt(0) <= 'U',
                                                                                            'bg-light-success text-success': item.empresa.razon_social.charAt(0) >='V' && item.empresa.razon_social.charAt(0) <= 'Z'}">
                                                                                            {{item.empresa.razon_social.charAt(0)}}
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="d-flex justify-content-start flex-column">
                                                                                        <a class="text-gray-800 fw-bold mb-1 fs-6">
                                                                                            <code>[Empresa]</code>
                                                                                            {{item.empresa.razon_social}}
                                                                                        </a>
                                                                                        <span class="text-gray-400 fw-semibold d-block fs-7">
                                                                                        {{item.empresa.tipo_empresa}}
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </ng-container>
                                                            <ng-container *ngIf="load_clientes">
                                                                <div class="py-20 text-center">
                                                                    <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                                        <span class="sr-only">Loading...</span>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                            
                                                
                                                <div class="fv-row mb-7" *ngIf="cliente_status">
                                                   
                                                    

                                                    <ng-container >
                                                        <div class="py-5" *ngIf="venta.tipo_pago == 'Contado'">
                                                            <div class="alert alert-dismissible bg-light-success d-flex flex-center flex-column py-10 px-10 px-lg-20 mb-10">
                                                               
                                                                <span class="svg-icon svg-icon-success">
                                                                    <svg class="h-40px w-40px" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="10" fill="currentColor"/>
                                                                    <path d="M10.4343 12.4343L8.75 10.75C8.33579 10.3358 7.66421 10.3358 7.25 10.75C6.83579 11.1642 6.83579 11.8358 7.25 12.25L10.2929 15.2929C10.6834 15.6834 11.3166 15.6834 11.7071 15.2929L17.25 9.75C17.6642 9.33579 17.6642 8.66421 17.25 8.25C16.8358 7.83579 16.1642 7.83579 15.75 8.25L11.5657 12.4343C11.2533 12.7467 10.7467 12.7467 10.4343 12.4343Z" fill="currentColor"/>
                                                                    </svg>
                                                                </span>
                                                                <!--end::Svg Icon-->
                                                                
                                                                <!--begin::Content-->
                                                                <div class="text-center text-gray-900 mt-4">
                                                                    <h1 class="fw-700 mb-5">
                                                                        Pago de contado.
                                                                    </h1>
                                                                    <div class="separator separator-dashed border-danger opacity-25 mb-5"></div>
                                                                    <div class="mb-3">
                                                                        El cliente accede actualmente a pago de contado.
                                                                    </div>
                                                                </div>
                                                                <!--end::Content-->
                                                            </div>
                                                        </div>
                                                        <div class="py-5" *ngIf="credito.solicitudes>=1">
                                                            <div class="alert alert-dismissible bg-light-danger d-flex flex-center flex-column py-10 px-10 px-lg-20 mb-10">
                                                                <span class="svg-icon svg-icon-danger"><svg class="h-40px w-40px" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path opacity="0.3" d="M20.5543 4.37824L12.1798 2.02473C12.0626 1.99176 11.9376 1.99176 11.8203 2.02473L3.44572 4.37824C3.18118 4.45258 3 4.6807 3 4.93945V13.569C3 14.6914 3.48509 15.8404 4.4417 16.984C5.17231 17.8575 6.18314 18.7345 7.446 19.5909C9.56752 21.0295 11.6566 21.912 11.7445 21.9488C11.8258 21.9829 11.9129 22 12.0001 22C12.0872 22 12.1744 21.983 12.2557 21.9488C12.3435 21.912 14.4326 21.0295 16.5541 19.5909C17.8169 18.7345 18.8277 17.8575 19.5584 16.984C20.515 15.8404 21 14.6914 21 13.569V4.93945C21 4.6807 20.8189 4.45258 20.5543 4.37824Z" fill="currentColor"/>
                                                                    <rect x="9" y="13.0283" width="7.3536" height="1.2256" rx="0.6128" transform="rotate(-45 9 13.0283)" fill="currentColor"/>
                                                                    <rect x="9.86664" y="7.93359" width="7.3536" height="1.2256" rx="0.6128" transform="rotate(45 9.86664 7.93359)" fill="currentColor"/>
                                                                    </svg>
                                                                </span>
                                                                <!--end::Svg Icon-->
                                                                
                                                                <!--begin::Content-->
                                                                <div class="text-center text-gray-900 mt-4">
                                                                    <h1 class="fw-700 mb-5">
                                                                        El cliente no puedo acceder a un credito.
                                                                    </h1>
                                                                    <div class="separator separator-dashed border-danger opacity-25 mb-5"></div>
                                                                    <div class="mb-3">
                                                                        El cliente tiene pendiente una solicitud de crédito.
                                                                    </div>
                                                                </div>
                                                                <!--end::Content-->
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                                <!--end::Input group-->
                                                <ng-container *ngIf="!load_cliente_selected">
                                                    <!--end::Input group-->
                                                
                                                    <ng-container *ngIf="venta.tipo_pago == 'Credito'">
                                                        <div class="fv-row mb-1 mb-5" *ngIf="venta.tipo_usuario">
                                                            <div>
                                                                <div class="d-flex justify-content-between flex-wrap d-grid gap-5 mb-7">   
                                                                    <!--begin::Item-->
                                                                    <div class="me-md-2">   
                                                                        <!--begin::Statistics-->
                                                                        <div class="d-flex mb-2">
                                                                            <span *ngIf="venta.tipo_usuario == 'Cliente natural'" 
                                                                            class="fs-2hx fw-bold text-gray-800 me-2 lh-1 ls-n2">
                                                                            {{cliente_selected.credito_total |currency:'MXN':'symbol'}}
                                                                            </span>                
                                                                        </div>
                                                                        <!--end::Statistics-->
                                                                
                                                                        <!--begin::Description-->
                                                                        <span class="fs-6 fw-semibold text-gray-400">Crédito Total</span>
                                                                        <!--end::Description-->
                                                                    </div>
                                                                    <!--end::Item-->
                                                                
                                                                    <!--begin::Item-->
                                                                    <div class="border-1 border-gray-300 px-5 ps-md-10 pe-md-7 me-md-5">   
                                                                        <!--begin::Statistics-->
                                                                        <div class="d-flex mb-2">
                                                                            <span class="fs-2hx fw-bold text-gray-800 me-2 lh-1 ls-n2">
                                                                                {{cliente_selected.credito_disponible |currency:'MXN':'symbol'}}
                                                                            </span>                
                                                                        </div>
                                                                        <!--end::Statistics-->
                                                                
                                                                        <!--begin::Description-->
                                                                        <span class="fs-6 fw-semibold text-gray-400">Crédito Disponible</span>
                                                                        <!--end::Description-->
                                                                    </div>
                                                                    <!--end::Item-->
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    
                                                    <!--begin::Input group-->
                                                    <div class="fv-row mb-10" *ngIf="venta.tipo_usuario">
                                                        <!--begin::Label-->
                                                        <label class="form-label required">Dirección de envío</label>
                                                        <!--end::Label-->
                                    
                                                        <!--begin::Input-->
                                                        <select *ngIf="ubicaciones.length >=1" class="form-select form-select-solid mb-2" name="cliente_ubicacion" [(ngModel)]="venta.cliente_ubicacion" (change)="set_ubicacion()">
                                                            <option value="" selected disabled>Seleccionar</option>
                                                            <option value="{{item._id}}" *ngFor="let item of ubicaciones">
                                                                {{item.place_name_es}}
                                                            </option>
                                                        </select>
                                                        <select *ngIf="ubicaciones.length == 0" class="form-select form-select-solid mb-2" disabled>
                                                            <option value="" selected disabled>Seleccionar</option>
                                                            
                                                        </select>
                                                        <!--end::Input-->
                                                        <!--begin::Description-->
                                                        <div class="text-muted fs-7" *ngIf="ubicaciones.length >=1">Tipo de medio de transporte.</div>
                                                        <div class="text-danger fs-7" *ngIf="ubicaciones.length == 0">El comprador no tiene direcciones.</div>
                                                        <!--end::Input-->
                                                    </div>
                                                    
                                                   
                                                </ng-container>
                                                <ng-container *ngIf="load_cliente_selected">
                                                    <div class="py-20 text-center">
                                                        <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                            <span class="sr-only">Loading...</span>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                             

                                            </div>
                                            <!--begin::Step 1-->
                                
                                        
                                        </div>
                                        <!--end::Group-->
                                
                                        <!--begin::Actions-->
                                        <div class="text-end mt-10">
                                            <button *ngIf="venta.cliente_ubicacion" (click)="next_step(2)" type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <button *ngIf="!venta.cliente_ubicacion" disabled type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                        </div>
                                        <!--end::Actions-->
                                    </form>
                                    <!--end::Form-->
                                    <form  *ngIf="option_menu == 2">
                                        <!--begin::Heading-->
                                        <div class="pb-10 pb-lg-15" >
                                            <!--begin::Title-->
                                            <h1 class="fw-bold text-center text-gray-700 fw-700">
                                                Productos
                                            </h1>
                                            <!--end::Title-->
                                            <!--begin::Notice-->
                                            <div class="text-muted fw-semibold fs-6 text-center">
                                                Variedad de productos disponibles en almacén.
                                            </div>
                                            <!--end::Notice-->
                                        </div>
                                        <!--end::Heading-->
                                        <!--begin::Actions-->
                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Wrapper-->
                                            <button (click)="next_step(1)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>
                                            <button (click)="next_step(3)" type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <!--end::Wrapper-->
                                        </div>
                                        <!--end::Actions-->
                                        <div class="mb-10">
                                            <h3 class="fw-700 d-flex align-items-center text-dark mb-10">
                                                Productos disponibles
                                                <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                            </h3>

                                            <div class="fv-row row mb-5">
                                                <!--begin::Col-->
                                                <div class="col-md-4 mb-5">
                                                    <!--begin::Label-->
                                                    <label class="form-label" style="font-size: 1rem;margin-bottom: 0rem;">Producto</label> <br>
                                                    <small class="text-primary" style="cursor: pointer;" (click)="init_productos('Todos')">Restablecer</small>
                                                    <!--end::Label-->
                                                </div>
                                                <!--end::Col-->
                                                <!--begin::Col-->
                                                <div class="col-md-8" >
                                                    <!--begin::Input-->
                                                    <input type="text" class="form-control form-control-solid" placeholder="Buscar producto" name="filtro_producto" [(ngModel)]="filtro_producto" id="str_producto" (keyup)="search_productos()">
                                                    <!--end::Input-->
                                                </div>
                                                <!--end::Col-->
                                                <div class="col-md-12">
                                                    <div class="pt-5">
                                                        
                                                        <!--begin::Results-->
                                                        <div class="">
                                                            <!--begin::Users-->
                                                            <div class="mh-300px scroll-y me-n5 pe-5">
                                                                <ng-container *ngIf="load_productos">
                                                                    <div class="py-20 text-center">
                                                                        <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                                            <span class="sr-only">Loading...</span>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                                                                <div *ngIf="!load_productos">
                                                                    <div class="card mb-5" *ngFor="let item of productos;let idx = index" style="border: 1px solid #ededed;border-radius: 0px;" 
                                                                    [ngClass]="{'producto_selected': item.producto._id == producto_selected._id}" (click)="selected_producto(item)">
                                                                        <div class="card-body d-flex justify-content-between" style="padding: 1.5rem 2.25rem;">
                                                                            <div class="d-flex">
                                                                                <!--begin::Thumbnail-->
                                                                                <a class="symbol symbol-50px">
                                                                                    <span class="symbol-label" style="background-image:url({{item.producto.portada}});"></span>
                                                                                </a>
                                                                                <!--end::Thumbnail-->
                                                                                <div class="ms-5" style="max-width: 300px !important">
                                                                                    <!--begin::Title-->
                                                                                    <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: 1rem!important;">
                                                                                        
                                                                                        <ng-container  *ngIf="item.producto.minutos_pasados <= min_new_tag ">
                                                                                            <span class="badge badge-warning text-dark" style="font-size: .7rem;">
                                                                                                Nuevo
                                                                                            </span>
                                                                                            &nbsp;
                                                                                        </ng-container>
                                                                                        
                                                                                        <span placement="top" tooltipClass="bg_toolip" ngbTooltip="{{item.producto.titulo}}">
                                                                                            <span class="me-5">{{item.producto.titulo}}</span>
                                                                                            <span [ngClass]="{'bg-success': item.producto.estado == 'Publicado',
                                                                                            'bg-danger': item.producto.estado == 'Borrador'}" 
                                                                                            class="bullet bullet-dot h-6px w-6px translate-middle top-0 start-50">
                                                                                            </span>
                                                                                        </span>
                                                                                    </a>
                                                                                    <code>
                                                                                        {{item.producto.tipo}} - {{item.producto.categoria}}
                                                                                    </code>
                                                                                    &nbsp;  &nbsp;
                                                                                
                                                                                    <i placement="top" tooltipClass="bg_toolip" ngbTooltip="Precios no asignados" 
                                                                                    class="bi bi-tag text-danger me-2" *ngIf="item.precio_status != 0">
                                                                                    </i>
                                                                                    <i placement="top" tooltipClass="bg_toolip" ngbTooltip="Sin variaciones" 
                                                                                    class="bi bi-palette text-danger me-2" *ngIf="item.variaciones.length == 0">
                                                                                    </i>
                                                                                    <i placement="top" tooltipClass="bg_toolip" ngbTooltip="Cantidad por contenedor incompleto." *ngIf="!item.producto.cantidad_contenedor"
                                                                                    class="bi bi-app text-danger me-2">
                                                                                    </i>
                                                
                                                                                </div>
                                                                            </div>
                                                                            <div class="d-flex">
                                                                                
                                                                            </div>
                                                                            <div class="d-flex justify-content-end">
                                                                                <div class="symbol-group symbol-hover flex-grow-1 min-w-100px pe-2 d-flex justify-content-end">
                                                                                    <!--begin::User-->
                                                                                    <div class="symbol symbol-circle symbol-25px" *ngFor="let subitem of item.variaciones">
                                                                                        <div  *ngIf="item.producto.tipo == 'Ropa'" style="cursor: pointer;border: 1px dashed #ccc;" class="symbol-label fs-8 fw-semibold text-inverse-primary" [ngStyle]="{'background-color': subitem.hxd}"  
                                                                                        placement="top" tooltipClass="bg_toolip" ngbTooltip="{{subitem.variacion_name}} {{subitem.talla}}">
                                                                                            {{subitem.talla}}
                                                                                        </div>
                                                                                        <div *ngIf="item.producto.tipo == 'Tela'" style="cursor: pointer;border: 1px dashed #ccc;" class="symbol-label fs-8 fw-semibold text-inverse-primary" [ngStyle]="{'background-color': subitem.hxd}"  
                                                                                        placement="top" tooltipClass="bg_toolip" ngbTooltip="{{subitem.variacion_name}}">
                                                                                    
                                                                                        </div>
                                                                                        <div *ngIf="item.producto.tipo == 'Acero'" style="cursor: pointer;border: 1px dashed #ccc;" class="symbol-label fs-8 fw-semibold text-inverse-primary" [ngStyle]="{'background-color': subitem.hxd}"  
                                                                                        placement="top" tooltipClass="bg_toolip" ngbTooltip="{{subitem.variacion_name}}">
                                                                                    
                                                                                        </div>
                                                                                    </div>
                                                                                    <!--end::User-->
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="card-footer d-flex justify-content-between py-2">
                                                                            <div class="d-flex">
                                                                                <div [ngStyle]="{'background': subitem.color}" 
                                                                                *ngFor="let subitem of item.etiquetas" 
                                                                                class="badge badge-primary mb-1 me-3"
                                                                                style="height: fit-content !important;">
                                                                                    {{subitem.etiqueta}}
                                                                                </div>
                                                                            </div>

                                                                            <div class="d-flex gap-4">
                                                                                <code class="d-flex align-items-center text-success ">
                                                                                    <div class="bullet w-8px h-8px rounded-2 bg-success me-1"></div>
                                                                                    {{item.unidades_activos}} Unids
                                                                                </code>

                                                                                <code class="d-flex align-items-center text-info">
                                                                                    <div class="bullet w-8px h-8px rounded-2 bg-info me-1"></div>
                                                                                    {{item.future_stock_producto}}
                                                                                    <ng-container *ngIf="item.producto.tipo == 'Tela'">
                                                                                        Mtr
                                                                                    </ng-container>
                                                                                </code>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!--end::Users-->
                                                        </div>
                                                        <!--end::Results-->
                                                    
                                                    </div>
                                                </div>
                                            </div>

                                            <!--begin::Row-->
                                            <ng-container *ngIf="variaciones.length >= 1">
                                                <div #section1 id="section1">
                                                    <div class="separator separator-dashed mb-10"></div>

                                                    <div class="row g-9 mb-10">
                                                        
                                                        <div class="col-lg-3 d-flex flex-column cursor-pointer" *ngFor="let item of variaciones;let idx=index">
                                                            <div class="card-variacion" (click)="selected_variacion(item,idx)" [ngClass]="{'variacion-selected': item.selected,'variacion-active':item?._id == variacion_selected?._id}">
                                                                <div class="card-color" [ngStyle]="{'background': item.hxd}" style="height: 30px">

                                                                </div>
                                                                <div class="card-info p-2 d-flex flex-column" style="height: 50px !important;">
                                                                    <span class="fs-7 fw-600 text-gray-800 d-block me-3">
                                                                        {{item.variacion_name}}
                                                                        <ng-container *ngIf="item.tipo == 'Acero'">
                                                                            - {{item.color_name}}
                                                                        </ng-container>
                                                                        <ng-container *ngIf="item.tipo == 'Ropa'">
                                                                            - {{item.talla}}
                                                                        </ng-container>
                                                                    </span>

                                                                    <div class="d-flex">
                                                                        <span *ngIf="item.future_stock >= 1" class="fw-semibold text-gray-400 d-block fs-8 text-end">
                                                                            <span class="badge badge-primary badge-circle w-10px h-10px me-1">
                                                                            </span>
                                                                        </span>
                                                        
                                                                        <span *ngIf="item.unidades_activos >= 1" class="fw-semibold text-gray-400 d-block fs-8 text-end">
                                                                            <span class="badge badge-success badge-circle w-10px h-10px me-1">
                                                                            </span>
                                                                        </span>
                                                                    </div>

                                                                    <!-- <div [ngStyle]="{'background': subitem.hxd}" 
                                                                    *ngFor="let subitem of item.etiquetas" 
                                                                    class="badge badge-primary me-3"
                                                                    style="height: fit-content !important;">
                                                                        {{subitem.etiqueta}}
                                                                    </div> -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                    
                                                    </div>
                                                    <!--end::Row-->
                                                </div>
                                            </ng-container>
                                            

                                            <div *ngIf="variacion_selected != undefined">
                                                <div class="separator separator-dashed mb-10"></div>

                                                <h3 class="fw-700 d-flex align-items-center text-dark mb-10">
                                                    Variación
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                                </h3>

                                                <div class="d-flex justify-content-between mb-7">
                                                    <div class="d-flex align-items-center me-5 me-xl-13">
                                                        <!--begin::Symbol-->
                                                        <div class="symbol symbol-35px symbol-circle me-3">
                                                            <span class="symbol-label text-inverse-primary fw-bold" [ngStyle]="{'background': variacion_selected.hxd}">
                                                                
                                                            </span>
                                                        </div>
                                                        <!--end::Symbol--> 
                                                        
                                                        <!--begin::Info-->
                                                        <div class="m-0">                            
                                                            <span class="fw-semibold text-gray-500 d-block fs-8">
                                                                {{variacion_selected.producto.titulo}}
                                                                
                                                            </span>
                                                            <i class="fw-bold text-gray-800 text-hover-primary fs-7">
                                                                {{variacion_selected.variacion_name}} 
                                                            </i>
                                                        </div>
                                                        <!--end::Info-->
                                                    </div>

                                                </div>

                                                <div class="row mb-7" *ngIf="detalle.tipo_detalle == 'En almacen'">
                                                    <!--begin::Col-->
                                                    <ng-container *ngFor="let item of almacenes">
                                                        <div class="col" *ngIf="item.unidades_activos >= 1">
                                                            <!--begin::Option-->
                                                            <label class="btn btn-outline btn-outline-dashed btn-active-light-primary w-100 p-4" [ngClass]="{'active': almacen_selected == item.almacen}">
                                                                <input type="radio" class="btn-check" name="sede" [(ngModel)]="almacen_selected" [value]="item.almacen">
                                                                <span class="fw-bold fs-6">
                                                                    {{item.almacen}} ({{item.unidades_activos}})
                                                                </span>
                                                                <br>
                                                                <small class="text-muted">{{item.distancia.toFixed(2)}}KM</small>
                                                            </label>
                                                            <!--end::Option-->
                                                        </div>
                                                    </ng-container>
                                                    <!--end::Col-->
                                                   
                                                </div>

                                                <div class="d-flex justify-content-between align-items-center mb-10">
                                                    <!--begin::Checkbox-->
                                                    <label class="form-check form-check-custom form-check-solid me-5">
                                                        <input class="form-check-input h-20px w-20px" type="radio" name="tipo_detalle" [(ngModel)]="detalle.tipo_detalle" value="En almacen"/>
                    
                                                        <div class="d-flex flex-column">
                                                            <span class="form-check-label fw-semibold">
                                                                En almacen
                                                            </span>
                                                            <small class="form-check-label text-muted">
                                                                {{total_dispoble}}   
                                                                {{configuracion.unidad}}
                                                            </small>
                                                        </div>
                                                    </label>
                                                    <!--end::Checkbox-->
                    
                                                    <!--begin::Checkbox-->
                                                    <label class="form-check form-check-custom form-check-solid me-5">
                                                        <input class="form-check-input h-20px w-20px" type="radio" name="tipo_detalle" [(ngModel)]="detalle.tipo_detalle" value="En camino"/>
                    
                                                        
                                                        <div class="d-flex flex-column">
                                                            <span class="form-check-label fw-semibold">
                                                                Future Stock
                                                            </span>
                                                            <small class="form-check-label text-muted">
                                                                {{future_stock}}   
                                                                {{configuracion.unidad}}
                                                            </small>
                                                        </div>
                                                    </label>
                                                    <!--end::Checkbox-->

                                                    <!--begin::Checkbox-->
                                                    <label class="form-check form-check-custom form-check-solid">
                                                        <input class="form-check-input h-20px w-20px" type="radio" name="tipo_detalle" [(ngModel)]="detalle.tipo_detalle" value="Programación"/>
                    
                                                     
                                                        <div class="d-flex flex-column">
                                                            <span class="form-check-label fw-semibold">
                                                                Programación
                                                            </span>
                                                            <small class="form-check-label text-muted">
                                                                Entrega en 4 meses
                                                            </small>
                                                        </div>
                                                    </label>
                                                    <!--end::Checkbox-->
                                                </div>
    
                                                <div class="row mb-10">
                                                    <div class="col-12 mb-7">
                                                        <div class="btn-group w-100">
                                                            <!--begin::Radio-->
                                                            <label [ngClass]="{'btn-primary': configuracion.cantidad == 100}" (click)="configuracion.cantidad = 100" style="border: 1px solid #ccc !important;" class="btn btn-outline btn-sm btn-color-muted active">
                                                                100
                                                            </label>
                                                            <!--end::Radio-->
                                        
                                                            <!--begin::Radio-->
                                                            <label [ngClass]="{'btn-primary': configuracion.cantidad == 500}" (click)="configuracion.cantidad = 500" style="border: 1px solid #ccc !important;" class="btn btn-outline btn-sm btn-color-muted active">
                                                                500
                                                            </label>
                                                            <!--end::Radio-->
                                        
                                                            <!--begin::Radio-->
                                                            <label [ngClass]="{'btn-primary': configuracion.cantidad == 1500}" (click)="configuracion.cantidad = 1500" style="border: 1px solid #ccc !important;" class="btn btn-outline btn-sm btn-color-muted active">
                                                                1500
                                                            </label>
                                                            <!--end::Radio-->
                                        
                                                            <!--begin::Radio-->
                                                            <label [ngClass]="{'btn-primary': configuracion.cantidad == 2000}" (click)="configuracion.cantidad = 2000" style="border: 1px solid #ccc !important;" class="btn btn-outline btn-sm btn-color-muted active">
                                                                2000
                                                            </label>
                                                            <!--end::Radio-->
                                                        </div>
                                                    </div>
                                         
                                                    <div class="col-12" [ngClass]="{'mb-7': msm_error_unidades}">
                                                        <div class="d-flex justify-content-between">
                                                            <input type="number" class="form-control form-control-sm" placeholder="Cantidad" name="cantidad" 
                                                            [(ngModel)]="configuracion.cantidad" style="max-width: 150px;">
                                        
                                                            <button *ngIf="detalle.tipo_detalle == 'En almacen'" class="btn btn-sm btn-light" (click)="add_detalle_almacen()" [ngClass]="{'btn-dark': configuracion.cantidad >= 1}">
                                                                <i class="bi bi-check2"></i>
                                                                Agregar
                                                            </button>
                                                            <button *ngIf="detalle.tipo_detalle == 'En camino'" class="btn btn-sm btn-light" (click)="add_detalle_camino()" [ngClass]="{'btn-dark': configuracion.cantidad >= 1}">
                                                                <i class="bi bi-check2"></i>
                                                                Agregar
                                                            </button>
                                                            <button *ngIf="detalle.tipo_detalle == 'Programación'" class="btn btn-sm btn-light" (click)="add_detalle_programacion()" [ngClass]="{'btn-dark': configuracion.cantidad >= 1}">
                                                                <i class="bi bi-check2"></i>
                                                                Agregar
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <div class="col-12" *ngIf="msm_error_unidades">
                                                        <div class="alert alert-dismissible bg-light-danger border border-danger border-dashed d-flex flex-column flex-sm-row w-100 p-5" style="margin-bottom: 0px;">
                                                            <div class="d-flex flex-column pe-0 pe-sm-10">
                                                                <h5 class="mb-1 fw-700">Notificación:</h5>
                                                                <span>
                                                                    {{msm_error_unidades}}
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="separator separator-dashed mb-10"></div>

                                            <div class="d-flex justify-content-between align-items-center mb-10">
                                                <h3 class="fw-700 d-flex align-items-center text-dark">
                                                    Bolsa De Compras
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                                </h3>
                                                <div class="d-flex gap-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="bullet w-8px h-8px rounded-2 bg-success me-3">
                                                        </div>
                                                        <span class="fw-semibold text-gray-500 d-block fs-8">Almacen</span>
                                                    </div>
                                                    <div class="d-flex align-items-center">
                                                        <div class="bullet w-8px h-8px rounded-2 bg-info me-3">
                                                        </div>
                                                        <span class="fw-semibold text-gray-500 d-block fs-8">FS</span>
                                                    </div>
                                                    <div class="d-flex align-items-center">
                                                        <div class="bullet w-8px h-8px rounded-2 bg-primary me-3">
                                                        </div>
                                                        <span class="fw-semibold text-gray-500 d-block fs-8">Programación</span>
                                                    </div>
                                                </div>
                                            </div>

                                            
                                            <div #section3 id="section3" class="mb-10">
                                                <div *ngIf="detalles.length >= 1" class="accordion mb-10" 
                                                    id="accordionPanelsStayOpenExample">
                                                    <div class="accordion-item" *ngFor="let item of resumen_ventas_detalles; let idx_color = index" style="border-radius: 0px;">
                                                      <h2 class="accordion-header">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#panelsStayOpen-'+idx_color" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                                                            <div class="d-flex justify-content-between" style="    width: -webkit-fill-available;">
                                                                <div class="d-flex align-items-center">
                                                                    <a style="cursor: pointer;" (click)="revert_color(idx_color)" class="btn btn-sm btn-icon btn-bg-danger w-30px h-30px me-3">
                                                                        <span class="svg-icon svg-icon-5 svg-icon-white"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                            <path opacity="0.3" d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z" fill="currentColor"/>
                                                                            <path d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z" fill="currentColor"/>
                                                                            </svg>
                                                                        </span>
                                                                        <!--end::Svg Icon-->
                                                                    </a>

                                                                    <a class="symbol symbol-50px">
                                                                        <span class="symbol-label" style="width: 30px;height: 30px;border: 1px dashed #ccc;" [ngStyle]="{'background': item.hxd}"></span>
                                                                    </a>
                                                                    <div class="d-flex justify-content-start flex-column ms-5">
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .9rem!important;height: 13px !important;">
                                                                            {{item.producto.substring(0,10)}}
                                                                        </a>
                                                                       
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600" >
                                                                            <i class="text-muted" style="font-size: .8rem!important;">
                                                                                {{item.variacion_name}}
                                                                            </i>
                                                                        </a>
                                                                       
                                                                    </div>
                                                                </div>
                                                                <div style="padding-right: 1.5rem;">
                                                                    <span>
                                                                        <b>
                                                                            {{item.total_cantidades}} 
                                                                            <small>{{item.unidad}}</small>
                                                                        </b>
                                                                    </span>
                                                                    <br>
                                                                    <small>Cantidad</small>
                                                                </div>
                                                            </div>
                                                        </button>
                                                      </h2>
                                                      <div id="panelsStayOpen-{{idx_color}}" class="accordion-collapse collapse">
                                                        <div class="accordion-body">
                                                            <table class="table table-hover table-rounded table-striped border gy-7 gs-7 mb-3">
                                                                <tbody *ngFor="let subitem of item.detalles; let idx_detalle = index">
                                                                    <tr *ngIf="subitem.tipo_detalle == 'En almacen'">
                                                                        <td class="min-w-200px border-almacen">
                                                                            <div class="d-flex align-items-center">
                                                                                <a class="symbol symbol-50px">
                                                                                    <span class="symbol-label" style="width: 30px;height: 30px;border: 1px dashed #ccc;" [ngStyle]="{'background': subitem.hxd}">
                                                                                    </span>
                                                                                </a>
                                                                                <div class="d-flex justify-content-start flex-column ms-5">
                                                                                    <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .9rem!important;height: 13px !important;">
                                                                                        {{subitem.producto_title.substring(0,10)}} - <i style="font-size: .8rem !important;">{{subitem.variacion_name}}</i>
                                                                                    </a>
                                                                                    <code *ngIf="subitem.tipo_detalle == 'En almacen'">
                                                                                        {{subitem.codigo}}
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'En camino'">
                                                                                        En camino
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'Programación'">
                                                                                        Programación
                                                                                    </code>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span [ngClass]="{'text-danger': subitem.descuento}">
                                                                                <b>{{subitem.precio|currency:'MXN'}}</b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Precio unidad</small>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span>
                                                                                <b>
                                                                                    {{subitem.cantidad}} 
                                                                                    <small>{{subitem.unidad}}</small>
                                                                                </b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Cantidad</small>
                                                                        </td>
                                                                        <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                            <b>{{subitem.cantidad*subitem.precio|currency:'MXN'}}</b>
                                                                            <br>
                                                                            <small>Subtotal</small>
                                                                        </td>
                                                                        <td class="text-end" style="width: 80px !important;">
                                                                            <a style="cursor: pointer;" (click)="revert_rollo(idx_color,subitem.idx, subitem)" class="btn btn-sm btn-icon btn-bg-danger w-30px h-30px">
                                                                                <span class="svg-icon svg-icon-5 svg-icon-white"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path opacity="0.3" d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z" fill="currentColor"/>
                                                                                    <path d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z" fill="currentColor"/>
                                                                                    </svg>
                                                                                </span>
                                                                                <!--end::Svg Icon-->
                                                                            </a>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>

                                                            <table class="table table-hover table-rounded table-striped border gy-7 gs-7 mb-3">
                                                                <tbody *ngFor="let subitem of item.detalles; let idx_detalle = index">
                                                                    <tr *ngIf="subitem.tipo_detalle == 'Programación'">
                                                                        <td class="min-w-200px border-programacion" 
                                                                        [ngClass]="{'border-camino': subitem.tipo_detalle == 'En camino',
                                                                        '': subitem.tipo_detalle == ''}">
                                                                            <div class="d-flex align-items-center">
                                                                                <a class="symbol symbol-50px">
                                                                                    <span class="symbol-label" style="width: 30px;height: 30px;border: 1px dashed #ccc;" [ngStyle]="{'background': subitem.hxd}">
                                                                                    </span>
                                                                                </a>
                                                                                <div class="d-flex justify-content-start flex-column ms-5">
                                                                                    <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .9rem!important;height: 13px !important;">
                                                                                        {{subitem.producto_title.substring(0,10)}} - <i style="font-size: .8rem !important;">{{subitem.variacion_name}}</i>
                                                                                    </a>
                                                                                    <code *ngIf="subitem.tipo_detalle == 'En almacen'">
                                                                                        {{subitem.codigo}}
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'En camino'">
                                                                                        En camino
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'Programación'">
                                                                                        Programación
                                                                                    </code>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span [ngClass]="{'text-danger': subitem.descuento}">
                                                                                <b>{{subitem.precio|currency:'MXN'}}</b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Precio unidad</small>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span>
                                                                                <b>
                                                                                    {{subitem.cantidad}} 
                                                                                    <small>{{subitem.unidad}}</small>
                                                                                </b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Cantidad</small>
                                                                        </td>
                                                                        <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                            <b>{{subitem.cantidad*subitem.precio|currency:'MXN'}}</b>
                                                                            <br>
                                                                            <small>Subtotal</small>
                                                                        </td>
                                                                        <td class="text-end" style="width: 80px !important;">
                                                                            <a style="cursor: pointer;" (click)="revert_rollo(idx_color,subitem.idx, subitem)" class="btn btn-sm btn-icon btn-bg-danger w-30px h-30px">
                                                                                <span class="svg-icon svg-icon-5 svg-icon-white"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path opacity="0.3" d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z" fill="currentColor"/>
                                                                                    <path d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z" fill="currentColor"/>
                                                                                    </svg>
                                                                                </span>
                                                                                <!--end::Svg Icon-->
                                                                            </a>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>

                                                            <table class="table table-hover table-rounded table-striped border gy-7 gs-7">
                                                                <tbody *ngFor="let subitem of item.detalles; let idx_detalle = index">
                                                                    <tr *ngIf="subitem.tipo_detalle == 'En camino'">
                                                                        <td class="min-w-200px border-camino">
                                                                            <div class="d-flex align-items-center">
                                                                                <a class="symbol symbol-50px">
                                                                                    <span class="symbol-label" style="width: 30px;height: 30px;border: 1px dashed #ccc;" [ngStyle]="{'background': subitem.hxd}">
                                                                                    </span>
                                                                                </a>
                                                                                <div class="d-flex justify-content-start flex-column ms-5">
                                                                                    <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .9rem!important;height: 13px !important;">
                                                                                        {{subitem.producto_title.substring(0,10)}} - <i style="font-size: .8rem !important;">{{subitem.variacion_name}}</i>
                                                                                    </a>
                                                                                    <code *ngIf="subitem.tipo_detalle == 'En almacen'">
                                                                                        {{subitem.codigo}}
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'En camino'">
                                                                                        En camino
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'Programación'">
                                                                                        Programación
                                                                                    </code>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span [ngClass]="{'text-danger': subitem.descuento}">
                                                                                <b>{{subitem.precio|currency:'MXN'}}</b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Precio unidad</small>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span>
                                                                                <b>
                                                                                    {{subitem.cantidad}} 
                                                                                    <small>{{subitem.unidad}}</small>
                                                                                </b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Cantidad</small>
                                                                        </td>
                                                                        <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                            <b>{{subitem.cantidad*subitem.precio|currency:'MXN'}}</b>
                                                                            <br>
                                                                            <small>Subtotal</small>
                                                                        </td>
                                                                        <td class="text-end" style="width: 80px !important;">
                                                                            <a style="cursor: pointer;" (click)="revert_rollo(idx_color,subitem.idx, subitem)" class="btn btn-sm btn-icon btn-bg-danger w-30px h-30px">
                                                                                <span class="svg-icon svg-icon-5 svg-icon-white"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path opacity="0.3" d="M6 19.7C5.7 19.7 5.5 19.6 5.3 19.4C4.9 19 4.9 18.4 5.3 18L18 5.3C18.4 4.9 19 4.9 19.4 5.3C19.8 5.7 19.8 6.29999 19.4 6.69999L6.7 19.4C6.5 19.6 6.3 19.7 6 19.7Z" fill="currentColor"/>
                                                                                    <path d="M18.8 19.7C18.5 19.7 18.3 19.6 18.1 19.4L5.40001 6.69999C5.00001 6.29999 5.00001 5.7 5.40001 5.3C5.80001 4.9 6.40001 4.9 6.80001 5.3L19.5 18C19.9 18.4 19.9 19 19.5 19.4C19.3 19.6 19 19.7 18.8 19.7Z" fill="currentColor"/>
                                                                                    </svg>
                                                                                </span>
                                                                                <!--end::Svg Icon-->
                                                                            </a>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                      </div>
                                                    </div>
                                                </div>
                                                <table class="table align-middle table-row-dashed fs-6 gy-5 mb-0">
                                                    <tr>
                                                        <td colspan="3" class="text-end">
                                                            <small>En Almacen</small>
                                                        </td>
                                                        <td class="text-end">
                                                            <small class="fw-bold">{{venta.total_venta|currency:'MXN'}}</small>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="3" class="text-end">
                                                            <small>En camino</small>
                                                        </td>
                                                        <td class="text-end">
                                                            <small class="fw-bold">{{venta.total_camino|currency:'MXN'}}</small>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="3" class="text-end">
                                                            <small>Programaciones</small>
                                                        </td>
                                                        <td class="text-end fw-bold">
                                                            <small class="fw-bold">{{venta.total_programacion|currency:'MXN'}}</small>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="3" class="text-end">
                                                            <span>
                                                                <strong>Grand Total</strong>
                                                            </span>
                                                        </td>
                                                        <td class="text-end fw-bold">
                                                            <span class="fw-bold">
                                                                <strong>{{venta.monto_total|currency:'MXN'}}</strong>
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>

                                            
                                            
                                            
                                        </div>
                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Wrapper-->
                                            <button (click)="next_step(1)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>
                                            <button (click)="next_step(3)" type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <!--end::Wrapper-->
                                        </div>
                                    </form>
                                    <form  *ngIf="option_menu == 3">
                                        <!--begin::Heading-->
                                        <div class="pb-10 pb-lg-15" >
                                            <!--begin::Title-->
                                            <h1 class="fw-bold text-center text-gray-700 fw-700">
                                                Resumen
                                            </h1>
                                            <!--end::Title-->
                                            <!--begin::Notice-->
                                            <div class="text-muted fw-semibold fs-6 text-center">
                                                Detalle incorporado de la venta y programación.
                                            </div>
                                            <!--end::Notice-->
                                        </div>
                                        <!--end::Heading-->
                                        <!--begin::Actions-->
                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Wrapper-->
                                            <button (click)="next_step(2)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>
                                            <button (click)="next_step(4)" type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <!--end::Wrapper-->
                                        </div>
                                        <!--end::Actions-->
                                        <div class="mb-10">
                                            <div class=" mb-7"  *ngIf="det_ventas.length >= 1">
                                                <h3 class="fw-700 d-flex align-items-center text-dark">
                                                    Resumen de Ventas
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                                </h3>
                                                <span class="text-muted">Productos directos desde almacen.</span>
                                            </div>

                                            <div *ngIf="det_ventas.length >= 1" class="table-responsive mb-10" style="max-height: 500px !important;">
                                                <table class="table table-hover table-rounded table-striped border gy-7 gs-7" style="margin-bottom: 0px !important;">
                                                    <tbody>
                                                        <tr *ngFor="let item of det_ventas; let idx_detalle = index">
                                                            <td class="min-w-200px border-almacen" >
                                                                <div class="d-flex align-items-center">
                                                                    <a class="symbol symbol-50px">
                                                                        <span class="symbol-label" style="width: 30px;height: 30px;" [ngStyle]="{'background': item.hxd}"></span>
                                                                    </a>
                                                                    <div class="d-flex justify-content-start flex-column ms-5">
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .8rem!important;">
                                                                            {{item.producto_title.substring(0,10)}} - {{item.variacion_name}}
                                                                        </a>
                                                                        <code>
                                                                            {{item.codigo}}
                                                                        </code>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td class="min-w-100px text-end">
                                                                <span [ngClass]="{'text-danger': item.descuento}">
                                                                    <b>{{item.precio|currency:'MXN'}}</b>
                                                                </span>
                                                                <br>
                                                                <small>Precio unidad</small>
                                                            </td>
                                                            <td class="min-w-100px text-end">
                                                                <span>
                                                                    <b>
                                                                        {{item.cantidad}} 
                                                                        <small>{{item.unidad}}</small>
                                                                    </b>
                                                                </span>
                                                                <br>
                                                                <small>Cantidad</small>
                                                            </td>
                                                            <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                <b>{{item.cantidad*item.precio|currency:'MXN'}}</b>
                                                                <br>
                                                                <small>Subtotal</small>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div class=" mb-7"  *ngIf="det_futurestock.length >= 1">
                                                <h3 class="fw-700 d-flex align-items-center text-dark">
                                                    Resumen de Future Stock
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                                </h3>
                                                <span class="text-muted">Productos disponibles de Future Stock.</span>
                                            </div>

                                            <div *ngIf="det_futurestock.length >= 1" class="table-responsive mb-10" style="max-height: 500px !important;">
                                                <table class="table table-hover table-rounded table-striped border gy-7 gs-7" style="margin-bottom: 0px !important;">
                                                    <tbody>
                                                        <tr *ngFor="let item of det_futurestock; let idx_detalle = index">
                                                            <td class="min-w-200px border-camino">
                                                                <div class="d-flex align-items-center">
                                                                    <a class="symbol symbol-50px">
                                                                        <span class="symbol-label" style="width: 30px;height: 30px;" [ngStyle]="{'background': item.hxd}"></span>
                                                                    </a>
                                                                    <div class="d-flex justify-content-start flex-column ms-5">
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .8rem!important;">
                                                                            {{item.producto_title.substring(0,10)}} - {{item.variacion_name}}
                                                                        </a>
                                                                        <code class="text-warning">
                                                                            En camino
                                                                        </code>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td class="min-w-100px text-end">
                                                                <span [ngClass]="{'text-danger': item.descuento}">
                                                                    <b>{{item.precio|currency:'MXN'}}</b>
                                                                </span>
                                                                <br>
                                                                <small>Precio unidad</small>
                                                            </td>
                                                            <td class="min-w-100px text-end">
                                                                <span>
                                                                    <b>
                                                                        {{item.cantidad}} 
                                                                        <small>{{item.unidad}}</small>
                                                                    </b>
                                                                </span>
                                                                <br>
                                                                <small>Cantidad</small>
                                                            </td>
                                                            <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                <b>{{item.cantidad*item.precio|currency:'MXN'}}</b>
                                                                <br>
                                                                <small>Subtotal</small>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div class=" mb-7" *ngIf="det_programacion.length >= 1">
                                                <h3 class="fw-700 d-flex align-items-center text-dark">
                                                    Resumen de Programaciones
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                                </h3>
                                                <span class="text-muted">Productos pedidos para programación.</span>
                                            </div>

                                            <div *ngIf="det_programacion.length >= 1" class="table-responsive mb-10" style="max-height: 500px !important;">
                                                <table class="table table-hover table-rounded table-striped border gy-7 gs-7" style="margin-bottom: 0px !important;">
                                                    <tbody>
                                                        <tr *ngFor="let item of det_programacion; let idx_detalle = index">
                                                            <td class="min-w-200px border-programacion" >
                                                                <div class="d-flex align-items-center">
                                                                    <a class="symbol symbol-50px">
                                                                        <span class="symbol-label" style="width: 30px;height: 30px;" [ngStyle]="{'background': item.hxd}"></span>
                                                                    </a>
                                                                    <div class="d-flex justify-content-start flex-column ms-5">
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .8rem!important;">
                                                                            {{item.producto_title.substring(0,10)}} - {{item.variacion_name}}
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td class="min-w-100px text-end">
                                                                <span [ngClass]="{'text-danger': item.descuento}">
                                                                    <b>{{item.precio|currency:'MXN'}}</b>
                                                                </span>
                                                                <br>
                                                                <small>Precio unidad</small>
                                                            </td>
                                                            <td class="min-w-100px text-end">
                                                                <span>
                                                                    <b>
                                                                        {{item.cantidad}} 
                                                                        <small>{{item.unidad}}</small>
                                                                    </b>
                                                                </span>
                                                                <br>
                                                                <small>Cantidad</small>
                                                            </td>
                                                            <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                <b>{{item.cantidad*item.precio|currency:'MXN'}}</b>
                                                                <br>
                                                                <small>Subtotal</small>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div class="separator separator-dashed my-3" style="    margin-bottom: 2.3rem !important;">

                                            </div>

                                            <div class=" mb-7">
                                                <h3 class="fw-700 d-flex align-items-center text-dark">
                                                    Resumen General
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Billing is issued based on your selected account type" data-bs-original-title="Billing is issued based on your selected account type" data-kt-initialized="1"></i>
                                                </h3>
                                                <span class="text-muted">Productos totales.</span>
                                            </div>

                                            <div>
                                                <div class="accordion" id="accordionPanelsStayOpenExample">
                                                    <div class="accordion-item" *ngFor="let item of resumen_ventas_detalles; let idx_detalle = index" style="border-radius: 0px;">
                                                        <h2 class="accordion-header">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#panelsStayOpen-'+idx_detalle" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                                                            <div class="d-flex justify-content-between" style="    width: -webkit-fill-available;">
                                                                <div class="d-flex align-items-center">
                                                                    <a class="symbol symbol-50px">
                                                                        <span class="symbol-label" style="width: 30px;height: 30px;" [ngStyle]="{'background': item.hxd}"></span>
                                                                    </a>
                                                                    <div class="d-flex justify-content-start flex-column ms-5">
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .9rem!important;height: 13px !important;">
                                                                            {{item.producto.substring(0,10)}}
                                                                        </a>
                                                                        
                                                                        <a class="text-gray-800 fs-6 fw-bold text-1 fw-600" >
                                                                            <i class="text-muted" style="font-size: .8rem!important;">
                                                                                {{item.variacion_name}}
                                                                            </i>
                                                                        </a>
                                                                        
                                                                    </div>
                                                                </div>
                                                                <div style="padding-right: 1.5rem;">
                                                                    <span>
                                                                        <b>
                                                                            {{item.total_cantidades}} 
                                                                            <small>{{item.unidad}}</small>
                                                                        </b>
                                                                    </span>
                                                                    <br>
                                                                    <small>Cantidad</small>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        </h2>
                                                        <div id="panelsStayOpen-{{idx_detalle}}" class="accordion-collapse collapse">
                                                        <div class="accordion-body">
                                                            <table class="table table-hover table-rounded table-striped border gy-7 gs-7" style="margin-bottom: 0px !important;">
                                                                <tbody>
                                                                    <tr *ngFor="let subitem of item.detalles; let idx_detalle = index">
                                                                        <td class="min-w-200px" [ngClass]="{'border-almacen': subitem.tipo_detalle == 'En almacen',
                                                                        'border-camino': subitem.tipo_detalle == 'En camino',
                                                                        'border-programacion': subitem.tipo_detalle == 'Programación'}">
                                                                            <div class="d-flex align-items-center">
                                                                                <a class="symbol symbol-50px">
                                                                                    <span class="symbol-label" style="width: 30px;height: 30px;" [ngStyle]="{'background': subitem.hxd}">
                                                                                    </span>
                                                                                </a>
                                                                                <div class="d-flex justify-content-start flex-column ms-5">
                                                                                    <a class="text-gray-800 fs-6 fw-bold text-1 fw-600 cursor-pointer" style="font-size: .9rem!important;height: 13px !important;">
                                                                                        {{subitem.producto_title.substring(0,10)}} - <i style="font-size: .8rem !important;">{{subitem.variacion_name}}</i>
                                                                                    </a>
                                                                                    <code *ngIf="subitem.tipo_detalle == 'En almacen'">
                                                                                        {{subitem.codigo}}
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'En camino'">
                                                                                        En camino
                                                                                    </code>
                                                                                    <code class="text-warning" *ngIf="subitem.tipo_detalle == 'Programación'">
                                                                                        Programación
                                                                                    </code>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span [ngClass]="{'text-danger': subitem.descuento}">
                                                                                <b>{{subitem.precio|currency:'MXN'}}</b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Precio unidad</small>
                                                                        </td>
                                                                        <td class="min-w-100px text-end">
                                                                            <span>
                                                                                <b>
                                                                                    {{subitem.cantidad}} 
                                                                                    <small>{{subitem.unidad}}</small>
                                                                                </b>
                                                                            </span>
                                                                            <br>
                                                                            <small>Cantidad</small>
                                                                        </td>
                                                                        <td class="text-end max-w-100px" style="vertical-align: middle !important;">
                                                                            <b>{{subitem.cantidad*subitem.precio|currency:'MXN'}}</b>
                                                                            <br>
                                                                            <small>Subtotal</small>
                                                                        </td>
                                                                        
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Wrapper-->
                                            <button (click)="next_step(2)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>
                                            <button (click)="next_step(4)" type="button" class="btn btn-dark">
                                                Continuar
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                    <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <!--end::Wrapper-->
                                        </div>
                                    </form>
                                    <form  *ngIf="option_menu == 4">
                                        <!--begin::Heading-->
                                        <div class="pb-10 pb-lg-15" >
                                            <!--begin::Title-->
                                            <h1 class="fw-bold text-center text-gray-700 fw-700">
                                                Pagos
                                            </h1>
                                            <!--end::Title-->
                                            <!--begin::Notice-->
                                            <div class="text-muted fw-semibold fs-6 text-center">
                                                Configuración del pago y envío.
                                            </div>
                                            <!--end::Notice-->
                                        </div>
                                        <!--end::Heading-->
                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Wrapper-->
                                            <button  (click)="next_step(3)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>
                                            <ng-container >
                                                <ng-container *ngIf="venta.tipo_pago == 'Credito'">
                                                    <button *ngIf="credito.solicitudes>=1;else anotherelse" disabled type="button" class="btn btn-dark">
                                                        Continuar
                                                        <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                            <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                            </svg>
                                                        </span>
                                                    </button>
                                                    <ng-template #anotherelse>
                                                        <button *ngIf="credito.solicitudes==0" (click)="next_step(5)" type="button" class="btn btn-dark">
                                                            Continuar
                                                            <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                                <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                                </svg>
                                                            </span>
                                                        </button>
                                                    </ng-template>
                                                </ng-container>
                                                <button *ngIf="venta.tipo_pago == 'Contado'" (click)="next_step(5)" type="button" class="btn btn-dark">
                                                    Continuar
                                                    <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                        <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                        </svg>
                                                    </span>
                                                </button>
                                            </ng-container>
                                            
                                        </div>

                                        <div class="mb-10">

                                            <div class="pb-7 pb-lg-10">
                                                <!--begin::Title-->
                                                <h2 class="fw-bold d-flex align-items-center text-dark fw-700">Forma de pago
                                                <i class="fas fa-exclamation-circle ms-2 fs-7"></i></h2>
                                                <!--end::Title-->
                                                <!--begin::Notice-->
                                                <div class="text-muted fw-semibold fs-6">Información acerca de la forma del pago.
                                                <a href="#" class="link-primary fw-bold">Help Page</a>.</div>
                                                <!--end::Notice-->
                                            </div>

                                            <ng-container *ngIf="cliente_selected.credito_total >= 1">
                                                <div [ngClass]="{'mb-7': credito.solicitudes == 0}" 
                                                class="notice d-flex bg-light-primary rounded border-primary border border-dashed p-6" 
                                                *ngIf="(cliente_selected.credito_disponible-venta.monto_total)<1">
                                                    <!--begin::Icon-->
                                                <!--begin::Svg Icon | path: icons/duotune/art/art006.svg-->
                                                    <span class="svg-icon svg-icon-2tx svg-icon-primary me-4"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path opacity="0.3" d="M22 19V17C22 16.4 21.6 16 21 16H8V3C8 2.4 7.6 2 7 2H5C4.4 2 4 2.4 4 3V19C4 19.6 4.4 20 5 20H21C21.6 20 22 19.6 22 19Z" fill="currentColor"></path>
                                                    <path d="M20 5V21C20 21.6 19.6 22 19 22H17C16.4 22 16 21.6 16 21V8H8V4H19C19.6 4 20 4.4 20 5ZM3 8H4V4H3C2.4 4 2 4.4 2 5V7C2 7.6 2.4 8 3 8Z" fill="currentColor"></path>
                                                    </svg>
                                                    </span>
                                                    <!--end::Svg Icon-->        <!--end::Icon-->
                                                        
                                                        <!--begin::Wrapper-->
                                                        <div class="d-flex flex-stack flex-grow-1 ">
                                                                        <!--begin::Content-->
                                                            <div class=" fw-semibold">
                                                                <div class="fs-6 text-gray-700 ">
                                                                    Se aplicó la apertura de una solicitud de ampliación de crédito por el monto de 
                                                                    <span class="fw-bold">{{-(cliente_selected.credito_disponible-venta.monto_total)|currency:'MXN'}}</span>
                                                                </div>
                                                            </div>
                                                                <!--end::Content-->
                                                            
                                                        </div>
                                                        <!--end::Wrapper-->  
                                                </div>
                                            </ng-container>


                                            <div class="mb-10 fv-row fv-plugins-icon-container fv-plugins-bootstrap5-row-valid" >
                                                <!--begin::Label-->
                                                <label class="d-flex align-items-center form-label mb-3 required">Tipo de pago</label>
                                                <!--end::Label-->
                                                <!--begin::Row-->
                                                <div class="row mb-2">
                                                    <!--begin::Col-->
                                                    
                                                    <div class="col" *ngIf="cliente_selected.credito_total==0">
                                                        <!--begin::Option-->
                                                        <label class="btn btn-outline btn-outline-dashed btn-active-light-primary w-100 p-4" [ngClass]="{'active': venta.tipo_pago == 'Contado'}"  (click)="setTipoPago('Contado')">
                                                            <span class="fw-700 fs-5">Contado</span>
                                                        </label>
                                                        <!--end::Option-->
                                                    </div>
                                                    <!--end::Col-->
                                                    <!--begin::Col-->
                                                    <div class="col" *ngIf="cliente_selected.credito_total>=1">
                                                        <!--begin::Option-->
                                                        <label class="btn btn-outline btn-outline-dashed btn-active-light-primary w-100 p-4" [ngClass]="{'active': venta.tipo_pago == 'Credito'}" (click)="setTipoPago('Credito')">
                                                            <span class="fw-700 fs-5">Credito</span>
                                                        </label>
                                                        <!--end::Option-->
                                                    </div>
                                                    <!--end::Col-->
                                                </div>
                                            </div>

                                            <!--begin::Input group-->
                                            <div class="row mb-10">
                                                <div class="col">
                                                        <label class="form-label">Costo de envio</label>
                                                        <input type="number" placeholder="Costo envio" class="form-control form-control-solid mb-2"  name="tipo_envio" [(ngModel)]="venta.tipo_envio"/>
                                                        <!--end::Input-->
                                                        <!--begin::Description-->
                                                        <div class="text-muted fs-7">Costo de envio.</div>
                                                        <!--end::Description-->
                                                        <!--end::Input-->
                                                </div>
                                                <div class="col">
                                                        <!--begin::Label-->
                                                        <label class="form-label required">Método envio</label>
                                                        <!--end::Label-->
                                    
                                                        <!--begin::Input-->
                                                        <select  class="form-select form-select-solid mb-2" name="metodo_envio" [(ngModel)]="venta.metodo_envio">
                                                            <option value="" selected disabled>Seleccionar</option>
                                                            <option [value]="item" *ngFor="let item of envios">{{item}}</option>
                                                        </select>
                                                        <!--end::Input-->
                                                        <!--begin::Description-->
                                                        <div class="text-muted fs-7">Método envio.</div>
                                                        <!--end::Description-->
                                                </div>
                                            </div>
                                            <!--end::Input group-->

                                            <!--begin::Input group-->
                                            <div class="row mb-10" *ngIf="venta.tipo_pago == 'Contado'">
                                                <div class="col">
                                                    <!--begin::Label-->
                                                    <label class="form-label required">Metodo</label>
                                                    <!--end::Label-->
                                                    <!--begin::Input-->
                                                    <select class="form-select form-select-solid mb-2" name="metodo" [(ngModel)]="venta.metodo" (change)="set_metodo()">
                                                        <option value="" disabled selected>Seleccionar</option>
                                                        <option value="Efectivo">Efectivo</option>
                                                        <option value="Cheque nominativo">Cheque nominativo</option>
                                                        <option value="Transferencia electrónica de fondos">Transferencia electrónica de fondos</option>
                                                        <option value="Tarjeta de crédito">Tarjeta de crédito</option>
                                                        <option value="Monedero electrónico">Monedero electrónico</option>
                                                    </select>
                                                    <div class="text-muted fs-7">Metodo con el que se realiza el pago.</div>
                                                    <!--end::Input-->
                                                </div>
                                                <ng-container *ngIf="venta.metodo">
                                                    <div class="col" *ngIf="venta.metodo != 'Efectivo'">
                                                        <!--begin::Label-->
                                                        <label class="form-label required">Entidad</label>
                                                        <!--end::Label-->
                                                        <!--begin::Input-->
                                                        <select class="form-select form-select-solid mb-2" name="entidad" [(ngModel)]="venta.entidad">
                                                            <option value="" disabled selected>Seleccionar</option>
                                                            <option value="{{item}}" *ngFor="let item of bancos">{{item}}</option>
                                                        </select>
                                                        <div class="text-muted fs-7">Metodo con el que se realiza el pago.</div>
                                                        <!--end::Input-->
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <!--end::Input group-->
                                            <ng-container>
                                                <div class="fv-row mb-10" *ngIf="det_ventas.length >= 1">
                                                    <!--begin::Label-->
                                                    <label class="form-label required">Entrega desde Almacen</label>
                                                    <!--end::Label-->
                                
                                                    <input disabled class="form-control form-control-solid" placeholder="Pick date rage" id="kt_daterangepicker_1"/>
                                                    <small style="cursor: pointer;" class="text-muted">
                                                        Estimación de entrega
                                                    </small>
                                                </div>
                                                <!--end::Input group-->   
                                                <!--begin::Input group-->
                                                <div class="fv-row mb-10" *ngIf="det_programacion.length >= 1">
                                                    <!--begin::Label-->
                                                    <label class="form-label">
                                                        Entrega desde Programación
                                                    </label>
                                                    <!--end::Label-->
                                
                                                    <input disabled class="form-control form-control-solid" placeholder="Pick date rage" id="kt_daterangepicker_3"/>
                                                    <small style="cursor: pointer;" class="text-muted">
                                                        Estimación de entrega
                                                    </small>
                                                </div>
                                                <!--end::Input group-->    
                                                <!--begin::Input group-->
                                                <div class="fv-row mb-10" *ngIf="det_futurestock.length >= 1">
                                                    <!--begin::Label-->
                                                    <label class="form-label">
                                                        Entrega desde Future Stock
                                                    </label>
                                                    <!--end::Label-->
                                
                                                    <input disabled class="form-control form-control-solid" placeholder="Pick date rage" id="kt_daterangepicker_2"/>
                                                    <small style="cursor: pointer;" class="text-muted">
                                                        Estimación de entrega
                                                    </small>
                                                </div>
                                                <!--end::Input group-->   
                                            </ng-container>   


                                            <ng-container *ngIf="venta.tipo_pago == 'Contado'">
                                                <div class="pb-7 pb-lg-10" style="margin-top: 4rem;">
                                                    <!--begin::Title-->
                                                    <h2 class="fw-bold d-flex align-items-center text-dark fw-700">Primer Pago
                                                    <i class="fas fa-exclamation-circle ms-2 fs-7"></i></h2>
                                                    <!--end::Title-->
                                                    <!--begin::Notice-->
                                                    <div class="text-muted fw-semibold fs-6">Anticipo para la separación de los productos.
                                                    <a href="#" class="link-primary fw-bold">Help Page</a>.</div>
                                                    <!--end::Notice-->
                                                </div>
                                                <div class="row mb-7">
                                                    <div class="col">
                                                        <!--begin::Label-->
                                                        <label class="form-label required">Facturación</label>
                                                        <!--end::Label-->
                                                        <!--begin::Input-->
                                                        <select class="form-select form-select-solid mb-2" name="tipo_de_comprobante" [(ngModel)]="data_facturacion.tipo_de_comprobante">
                                                            <option value="" selected disabled>Seleccionar</option>
                                                            <option value="NO-BOLETA">Sin Factura</option>
                                                        </select>
                                                        <div class="text-muted fs-7">Tipo de comprobante.</div>
                                                        <!--end::Input-->
                                                    </div>
                                                    <div class="col">
                                                        <!--begin::Label-->
                                                        <label class="form-label">Anticipo</label>
                                                        <!--end::Label-->
                                    
                                                        <!--begin::Input-->
                                                        <select class="form-select form-select-solid mb-2" name="porcentaje" [(ngModel)]="data_facturacion.porcentaje">
                                                            <option value="" disabled selected>Seleccionar</option>
                                                            <option value="{{item.porcentaje}}" *ngFor="let item of option_porcents">
                                                                {{item.porcentaje}}% - {{item.monto|currency:'MXN'}}
                                                            </option>
                                                        </select>
                                                        <div class="text-muted fs-7">Código de transacción.</div>
                                                        <!--end::Input-->
                                                    </div>
                                                    
                                                </div>
                                                <div class="fv-row mb-7" *ngIf="data_facturacion.tipo_de_comprobante != 'NO-BOLETA'">
                                                    <!--begin::Label-->
                                                    <label class="form-label required">Cuenta facturación</label>
                                                    <ng-container *ngIf="cuentas.length >= 1">
                                                        <select name="receptor" [(ngModel)]="data_facturacion.receptor" class="form-select form-select-solid mb-2">
                                                            <option value="" selected disabled>Seleccionar</option>
                                                            <option value="{{item.cliente_facturacion.uid}}" *ngFor="let item of cuentas">
                                                                {{item.cliente_facturacion.nombres}}
                                                                {{item.cliente_facturacion.apellidos}}
                                                            </option>
                                                        </select>
                                                        <div class="fs-7 fw-semibold text-muted">Cliente a facturar el pago. </div>   
                                                    </ng-container>
                                                    <ng-container *ngIf="cuentas.length == 0">
                                                        <select name="" class="form-select form-select-solid mb-2" disabled>
                                                            <option value="" selected disabled>Seleccionar</option>
                                                        </select>
                                                        <div class="fs-7 fw-semibold text-muted">El cliente no tiene cuentas de facturación.</div>   
                                                    </ng-container> 
                                                </div>
                                            </ng-container>

                                            <table class="table align-middle table-row-dashed fs-6 gy-5">
                                                <tr>
                                                    <td colspan="3" class="text-end">
                                                        <small>En Almacen</small>
                                                    </td>
                                                    <td class="text-end">
                                                        <small class="fw-bold">{{venta.total_venta|currency:'MXN'}}</small>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="3" class="text-end">
                                                        <small>En camino</small>
                                                    </td>
                                                    <td class="text-end">
                                                        <small class="fw-bold">{{venta.total_camino|currency:'MXN'}}</small>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="3" class="text-end">
                                                        <small>Programaciones</small>
                                                    </td>
                                                    <td class="text-end fw-bold">
                                                        <small class="fw-bold">{{venta.total_programacion|currency:'MXN'}}</small>
                                                    </td>
                                                </tr>
                                                <tr *ngIf="venta.tipo_pago == 'Credito'">
                                                    <td colspan="3" class="text-end">
                                                        <small>Credito Disponible</small>
                                                    </td>
                                                    <td class="text-end fw-bold">
                                                        <small class="fw-bold text-primary">
                                                            <strong>{{cliente_selected.credito_disponible|currency:'MXN'}}</strong>
                                                        </small>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="3" class="text-end">
                                                        <span>
                                                            <strong>Grand Total</strong>
                                                        </span>
                                                    </td>
                                                    <td class="text-end fw-bold">
                                                        <span class="fw-bold">
                                                            <strong>{{venta.monto_total|currency:'MXN'}}</strong>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr *ngIf="venta.tipo_pago == 'Credito'">
                                                    <td colspan="3" class="text-end">
                                                        <small>Credito Restante</small>
                                                    </td>
                                                    <td class="text-end fw-bold">
                                                        <small class="fw-bold" [ngClass]="{'text-success': (cliente_selected.credito_disponible-venta.monto_total) >=0,'text-danger': (cliente_selected.credito_disponible-venta.monto_total) < 0}">
                                                            <strong>{{cliente_selected.credito_disponible-venta.monto_total|currency:'MXN'}}</strong>
                                                        </small>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>

                                        <!--end::Heading-->
                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Wrapper-->
                                            <button  (click)="next_step(3)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>
                                            
                                            <ng-container >
                                                <ng-container *ngIf="venta.tipo_pago == 'Credito'">
                                                    <button *ngIf="credito.solicitudes>=1;else anotherelse" disabled type="button" class="btn btn-dark">
                                                        Continuar
                                                        <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                            <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                            </svg>
                                                        </span>
                                                    </button>
                                                    <ng-template #anotherelse>
                                                        <button *ngIf="credito.solicitudes==0" (click)="next_step(5)" type="button" class="btn btn-dark">
                                                            Continuar
                                                            <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                                <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                                </svg>
                                                            </span>
                                                        </button>
                                                    </ng-template>
                                                </ng-container>
                                                <button *ngIf="venta.tipo_pago == 'Contado'" (click)="next_step(5)" type="button" class="btn btn-dark">
                                                    Continuar
                                                    <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <rect opacity="0.5" x="18" y="13" width="13" height="2" rx="1" transform="rotate(-180 18 13)" fill="currentColor"/>
                                                        <path d="M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z" fill="currentColor"/>
                                                        </svg>
                                                    </span>
                                                </button>
                                            </ng-container>
                                            
                                        </div>
                                    </form>
                                    <form  *ngIf="option_menu == 5">
                                        <!--begin::Heading-->
                                        <div class="pb-10 pb-lg-15" >
                                            <!--begin::Title-->
                                            <h1 class="fw-bold text-center text-gray-700 fw-700">
                                                Confirmación
                                            </h1>
                                            <!--end::Title-->
                                            <!--begin::Notice-->
                                            <div class="text-muted fw-semibold fs-6 text-center">
                                                Confirmación de las ventas y programaciónes.
                                            </div>
                                            <!--end::Notice-->
                                        </div>
                                        <!--end::Heading-->

                                        <div class="d-flex flex-stack mb-10">
                                            <button (click)="next_step(4)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>

                                            <button *ngIf="!load_venta" (click)="create()" type="button" class="btn btn-dark">
                                                Crear venta
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor"/>
                                                    <path d="M10.4343 12.4343L8.75 10.75C8.33579 10.3358 7.66421 10.3358 7.25 10.75C6.83579 11.1642 6.83579 11.8358 7.25 12.25L10.2929 15.2929C10.6834 15.6834 11.3166 15.6834 11.7071 15.2929L17.25 9.75C17.6642 9.33579 17.6642 8.66421 17.25 8.25C16.8358 7.83579 16.1642 7.83579 15.75 8.25L11.5657 12.4343C11.2533 12.7467 10.7467 12.7467 10.4343 12.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <button *ngIf="load_venta" class="btn btn-dark" type="button" disabled>
                                                <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
                                                Procensando...
                                            </button>
                                        </div>

                                        <div class="d-flex flex-stack">
                                            <!--begin::Section-->
                                            <div class="text-gray-700 fw-semibold fs-6 me-2">
                                                <b>Cliente:</b>
                                            </div>
                                            <div class="d-flex align-items-senter">
                                                <ng-container *ngIf="venta.tipo_usuario == 'Empresa'">
                                                    {{empresa_selected.razon_social}}
                                                </ng-container>
                                                <ng-container *ngIf="venta.tipo_usuario == 'Cliente natural'">
                                                    {{cliente_selected.nombres}} {{cliente_selected.apellidos}}
                                                </ng-container>
                                            </div>  
                                            <!--end::Statistics-->           
                                        </div>

                                        <div class="separator separator-dashed my-3"></div>

                                        <div class="d-flex flex-stack">
                                            <!--begin::Section-->
                                            <div class="text-gray-700 fw-semibold fs-6 me-2">
                                                <b>Correo electrónico:</b>
                                            </div>
                                            <div class="d-flex align-items-senter">
                                                <ng-container *ngIf="venta.tipo_usuario == 'Cliente natural'">
                                                    {{cliente_selected.email}}
                                                </ng-container>
                                                <ng-container *ngIf="venta.tipo_usuario == 'Empresa'">
                                                    {{empresa_selected.empresa.razon_social}}
                                                </ng-container>
                                            </div>  
                                            <!--end::Statistics-->           
                                        </div>
                                        <div class="separator separator-dashed my-3"></div>

                                        <div class="d-flex flex-stack">
                                            <!--begin::Section-->
                                            <div class="text-gray-700 fw-semibold fs-6 me-2">
                                                <b>Colaborador:</b>
                                            </div>
                                            <div class="d-flex align-items-senter">
                                                {{user.nombres}} {{user.apellidos}}
                                            </div>  
                                            <!--end::Statistics-->           
                                        </div>

                                        <div class="separator separator-dashed my-3"></div>

                                        <div class="d-flex flex-stack">
                                            <!--begin::Section-->
                                            <div class="text-gray-700 fw-semibold fs-6 me-2">
                                                <b>Pago:</b>
                                            </div>
                                            <div class="d-flex align-items-senter">
                                                <ng-container *ngIf="venta.tipo_pago == 'Contado'">
                                                   {{venta.tipo_pago}} - {{venta.metodo}} - {{venta.entidad}}
                                                </ng-container>
                                                <ng-container *ngIf="venta.tipo_pago == 'Credito'">
                                                    {{venta.tipo_pago}} - {{venta.limit_days}}
                                                </ng-container>
                                            </div>  
                                            <!--end::Statistics-->           
                                        </div>

                                        <div class="separator separator-dashed my-3"></div>

                                        <div class="d-flex flex-stack mb-10">
                                            <!--begin::Section-->
                                            <div class="text-gray-700 fw-semibold fs-6 me-2">
                                                <b>Dirección:</b>
                                            </div>
                                            <div class="d-flex align-items-senter" style="    max-width: 350px;
                                            text-align: right;">
                                                {{ubicacion_selected.place_name_es}}
                                            </div>  
                                            <!--end::Statistics-->           
                                        </div>

                                        <div class="text-center mb-2">
                                            <label for="" class="form-label">
                                                Firma de Cliente
                                            </label>
                                        </div>

                                        <div class="d-flex justify-content-center mb-10">
                                            <canvas #canvas id="myCanvas" (mousedown)="startDrawing($event)" (mousemove)="draw($event)" (mouseup)="stopDrawing()"   (touchstart)="startDrawing($event)"
                                            (touchend)="stopDrawing()" (touchmove)="draw($event)">

                                            </canvas>
                                        </div>

                                        <div class="d-flex justify-content-center no-print mb-10">  
                                            <button (click)="clearCanvas()" style="width: 200px;" 
                                            class="btn btn-sm" [ngClass]="{'btn-light': isCanvasEmpty,'btn-primary': !isCanvasEmpty}">
                                                Limpiar
                                            </button>
                                        </div>

                                        <div class="d-flex flex-stack mb-10">
                                            <button (click)="next_step(4)" type="button" class="btn btn-light" style="margin-right: 1rem;">
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.5" x="6" y="11" width="13" height="2" rx="1" fill="currentColor"/>
                                                    <path d="M8.56569 11.4343L12.75 7.25C13.1642 6.83579 13.1642 6.16421 12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75L5.70711 11.2929C5.31658 11.6834 5.31658 12.3166 5.70711 12.7071L11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25C13.1642 17.8358 13.1642 17.1642 12.75 16.75L8.56569 12.5657C8.25327 12.2533 8.25327 11.7467 8.56569 11.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                Regresar
                                            </button>

                                            <button *ngIf="!load_venta" (click)="create()" type="button" class="btn btn-dark">
                                                Crear venta
                                                <span class="svg-icon svg-icon-3 ms-1"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor"/>
                                                    <path d="M10.4343 12.4343L8.75 10.75C8.33579 10.3358 7.66421 10.3358 7.25 10.75C6.83579 11.1642 6.83579 11.8358 7.25 12.25L10.2929 15.2929C10.6834 15.6834 11.3166 15.6834 11.7071 15.2929L17.25 9.75C17.6642 9.33579 17.6642 8.66421 17.25 8.25C16.8358 7.83579 16.1642 7.83579 15.75 8.25L11.5657 12.4343C11.2533 12.7467 10.7467 12.7467 10.4343 12.4343Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                            </button>
                                            <button *ngIf="load_venta" class="btn btn-dark" type="button" disabled>
                                                <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
                                                Procensando...
                                            </button>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!--end::Content container-->
                </div>
                <!--end::Content-->
            </div>
           
        </div>
        <!--end::Wrapper-->
    </div>
    <!--end::Page-->
</div>



<div class="modal fade" id="addClienteAtencion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title fw-700">Cliente atendido</h3>
                <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                    <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/kt-products/metronic/releases/2022-07-14-092914/core/html/src/media/icons/duotune/arrows/arr088.svg-->
                    <span class="svg-icon svg-icon-muted svg-icon-2hx"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect opacity="0.5" x="7.05025" y="15.5356" width="12" height="2" rx="1" transform="rotate(-45 7.05025 15.5356)" fill="currentColor"/>
                        <rect x="8.46447" y="7.05029" width="12" height="2" rx="1" transform="rotate(45 8.46447 7.05029)" fill="currentColor"/>
                        </svg>
                    </span>
                        <!--end::Svg Icon-->
                </div>
            </div>
            <div class="modal-body pb-0">
                <div class="input-group">
                    <input type="text" (keyup.ENTER)="init_clientes()" class="form-control" placeholder="Buscar cliente" name="filtro_cliente" [(ngModel)]="filtro_cliente">
                    <button class="btn btn-dark" (click)="init_clientes()">
                        <span class="svg-icon icon-size-2qx" style="margin-right: 0px !important"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="currentColor"/>
                            <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="currentColor"/>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
            <div class="modal-body justify-content-center" style="min-height:550px;max-height:550px;overflow: hidden;overflow-y: auto;">
                <ng-container *ngIf="!load_clientes_modal">
                    <div class="table-responsive"  *ngIf="clientes_modal.length >= 1">
                        <!--begin::Table-->
                        <table class="table table-row-dashed align-middle gs-0 gy-3 my-0">
                            <tbody>
                                <tr *ngFor="let item of clientes_modal" style="cursor: pointer;">
                                    <td>
                                        <div class="d-flex justify-content-between">
                                            <div class="d-flex align-items-center">
                                                <div class="symbol symbol-45px me-5">
                                                    <span class="symbol-label fw-bold" [ngClass]="{
                                                        'bg-light-danger text-danger': item.cliente.nombres.charAt(0) >='A' && item.cliente.nombres.charAt(0) <= 'H',
                                                        'bg-light-primary text-primary': item.cliente.nombres.charAt(0) >='I' && item.cliente.nombres.charAt(0) <= 'O',
                                                        'bg-light-info text-info': item.cliente.nombres.charAt(0) >='P' && item.cliente.nombres.charAt(0) <= 'U',
                                                        'bg-light-success text-success': item.cliente.nombres.charAt(0) >='V' && item.cliente.nombres.charAt(0) <= 'Z'}">
                                                        {{item.cliente.nombres.charAt(0)}}
                                                    </span>
                                                </div>
                                                <div class="d-flex justify-content-start flex-column">
                                                    <a class="text-gray-800 fw-600 text-hover-primary fs-6">{{item.cliente.nombres.split(' ')[0]}} {{item.cliente.apellidos.split(' ')[0]}}</a>
                                                    <span class="text-gray-400 fw-semibold d-block fs-7">
                                                        {{item.cliente.email}}
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <a (click)="redirect_url('/clientes/'+item.cliente._id)" class="btn btn-sm btn-icon me-2 btn-bg-light btn-active-color-primary w-30px h-30px">
                                                    <span class="svg-icon svg-icon-muted svg-icon-3"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M6.28548 15.0861C7.34369 13.1814 9.35142 12 11.5304 12H12.4696C14.6486 12 16.6563 13.1814 17.7145 15.0861L19.3493 18.0287C20.0899 19.3618 19.1259 21 17.601 21H6.39903C4.87406 21 3.91012 19.3618 4.65071 18.0287L6.28548 15.0861Z" fill="currentColor"/>
                                                        <rect opacity="0.3" x="8" y="3" width="8" height="8" rx="4" fill="currentColor"/>
                                                        </svg>
                                                    </span>
                                                </a>
                                                <button (click)="select_cliente(item.cliente)" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px">
                                                    <span class="svg-icon svg-icon-muted svg-icon-3" >
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path opacity="0.3" d="M10 18C9.7 18 9.5 17.9 9.3 17.7L2.3 10.7C1.9 10.3 1.9 9.7 2.3 9.3C2.7 8.9 3.29999 8.9 3.69999 9.3L10.7 16.3C11.1 16.7 11.1 17.3 10.7 17.7C10.5 17.9 10.3 18 10 18Z" fill="currentColor"/>
                                                            <path d="M10 18C9.7 18 9.5 17.9 9.3 17.7C8.9 17.3 8.9 16.7 9.3 16.3L20.3 5.3C20.7 4.9 21.3 4.9 21.7 5.3C22.1 5.7 22.1 6.30002 21.7 6.70002L10.7 17.7C10.5 17.9 10.3 18 10 18Z" fill="currentColor"/>
                                                        </svg>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                        
                                    </td>
                                </tr>
                            </tbody>
                            <!--end::Table body-->
                        </table>
                        <!--end::Table-->
                    </div>
                    <div class="" *ngIf="clientes_modal.length == 0">
                        <div class="text-center" style="margin-top: 2rem !important;height: 100% !important;" >
                            <a style="font-weight: 700;
                                font-size: 1.5rem;" class="app-sidebar-logo-default text-dark">
                                    <span class="text-yellow">OO</span>neunion
                            </a>
                            <div class="font-size-h4 mb-8 text-muted">No se pudieron encontrar cliente con los datos ingresados.</div>
                        </div>
                    </div>
                    
                </ng-container>
                <ng-container *ngIf="load_clientes_modal">
                    <div class="py-20 text-center">
                        <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                </ng-container>
            </div>
            
            
        </div>
    </div>
</div> 